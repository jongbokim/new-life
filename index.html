
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>뉴 라이프 - New Life</title>
    
    <!-- SEO 및 공유 최적화 -->
    <meta name="description" content="평신도 신앙생활 가이드 - New Life">
    <meta property="og:title" content="뉴 라이프 (New Life)">
    <meta property="og:description" content="오늘의 신앙 체크와 독서, 성경 읽기를 기록하세요.">
    <meta property="og:type" content="website">

    <!-- 카카오톡 인앱 브라우저 대응 스크립트 -->
    <script>
        (function() {
            var ua = navigator.userAgent.toLowerCase();
            var isKakao = ua.indexOf('kakaotalk') > -1;
            
            if (isKakao) {
                if (ua.indexOf('android') > -1) {
                    // 안드로이드: 크롬 또는 시스템 브라우저로 강제 전환 시도
                    var targetUrl = location.href.replace(/https?:\/\//, '');
                    location.href = 'intent://' + targetUrl + '#Intent;scheme=https;package=com.android.chrome;end';
                } else {
                    // iOS: 강제 전환이 불가능하므로 가이드 모달 표시를 위해 DOMContentLoaded 대기
                    window.addEventListener('DOMContentLoaded', function() {
                        var guide = document.createElement('div');
                        guide.id = 'kakao-guide-overlay';
                        guide.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(15, 23, 42, 0.9);z-index:20000;display:flex;flex-direction:column;align-items:center;justify-content:center;color:white;text-align:center;padding:24px;backdrop-filter:blur(8px);font-family:sans-serif;';
                        guide.innerHTML = `
                            <div style="background:white;color:#1e293b;padding:32px;border-radius:32px;max-width:320px;width:100%;box-shadow:0 25px 50px -12px rgba(0,0,0,0.5);">
                                <div style="width:64px;height:64px;background:#fef3c7;border-radius:20px;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#f59e0b" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                                </div>
                                <h2 style="font-weight:800;font-size:22px;margin-bottom:12px;letter-spacing:-0.02em;">브라우저 전환 안내</h2>
                                <p style="font-size:14px;line-height:1.6;margin-bottom:24px;color:#64748b;">카카오톡 브라우저에서는 앱이<br/>정상적으로 작동하지 않을 수 있습니다.</p>
                                <div style="background:#f8fafc;padding:20px;border-radius:20px;font-size:13px;text-align:left;margin-bottom:24px;border:1px solid #f1f5f9;">
                                    <div style="display:flex;gap:12px;margin-bottom:12px;">
                                        <span style="background:#10b981;color:white;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:bold;flex-shrink:0;">1</span>
                                        <span>우측 상단 <b>더보기(⋯)</b> 버튼 클릭</span>
                                    </div>
                                    <div style="display:flex;gap:12px;">
                                        <span style="background:#10b981;color:white;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:bold;flex-shrink:0;">2</span>
                                        <span><b>'다른 브라우저로 열기'</b> 선택</span>
                                    </div>
                                </div>
                                <button onclick="document.getElementById('kakao-guide-overlay').remove()" style="background:#1e293b;color:white;width:100%;padding:16px;border-radius:16px;font-weight:bold;border:none;font-size:15px;cursor:pointer;transition:transform 0.1s;" onmousedown="this.style.transform='scale(0.98)'" onmouseup="this.style.transform='scale(1)'">확인했습니다</button>
                            </div>
                        `;
                        document.body.appendChild(guide);
                    });
                }
            }
        })();
    </script>

    <!-- 리소스 연결 최적화 -->
    <link rel="preconnect" href="https://esm.sh">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
            background-color: #f8fafc;
            -webkit-tap-highlight-color: transparent;
            overflow-x: hidden;
        }
        /* 초기 로딩 스피너 디자인 */
        #initial-loader {
            position: fixed;
            inset: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            z-index: 9999;
            transition: opacity 0.4s ease-out;
        }
        .spinner {
            width: 48px;
            height: 48px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #10b981;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 16px;
        }
        .loading-text {
            color: #94a3b8;
            font-size: 14px;
            font-weight: 600;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>

    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@19.0.0",
    "react-dom": "https://esm.sh/react-dom@19.0.0",
    "react-dom/client": "https://esm.sh/react-dom@19.0.0/client",
    "lucide-react": "https://esm.sh/lucide-react@0.460.0",
    "recharts": "https://esm.sh/recharts@2.13.3?external=react,react-dom",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
    
    <!-- 핵심 모듈 프리로드 -->
    <link rel="modulepreload" href="https://esm.sh/react@19.0.0">
    <link rel="modulepreload" href="https://esm.sh/react-dom@19.0.0">
</head>
<body>
    <div id="initial-loader">
        <div class="spinner"></div>
        <div class="loading-text">뉴 라이프를 불러오는 중...</div>
    </div>
    <div id="root"></div>
    <script>
        // 로더 제거 함수
        function hideInitialLoader() {
            const loader = document.getElementById('initial-loader');
            if (loader) {
                loader.style.opacity = '0';
                setTimeout(function() {
                    if (loader.parentNode) loader.remove();
                }, 400);
            }
        }

        // 1. 페이지 로드 완료 시
        window.addEventListener('load', hideInitialLoader);
        
        // 2. 만약 로드 이벤트가 지연될 경우를 대비한 4.5초 세이프가드
        setTimeout(hideInitialLoader, 4500);

        // 3. 에러 발생 시에도 로더를 제거하여 빈 화면이라도 보이게 함
        window.onerror = function() {
            hideInitialLoader();
        };
    </script>
</body>
</html>
